<script src="https://cdn.tailwindcss.com"></script>
<section class="text-gray-600 body-font relative">
  <div class="container px-12 py-24 mx-auto lg:px-60 xl:px-80 2xl:px-96">
    <h1
      class="sm:text-4xl text-2xl font-medium title-font mb-4 text-gray-900 text-center"
    >
      Todo Manager
    </h1>
    <h2 class="">Search Task</h2>
    <form action="" method="get">
      <input type="text" name="search" class="w-full bg-white rounded border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"/>
      <button class="bg-blue-300 hover:bg-blue-400 text-blue-800 font-bold py-2 px-4 rounded inline-flex items-center" type="submit">Search</button>
    </form>
    <a href="/create-task/"><button class="py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75">
      Create
    </button></a>
    {% if request.path == '/tasks/' %}
    <button class="bg-pink-500 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed">
      All
    </button>
    {%else%}
    <a href="/tasks/">
      <button class="py-2 px-4 bg-pink-500 text-white font-semibold rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-opacity-75">
        All
      </button>
    </a>
    {%endif%}
    {% if request.path == '/completed-tasks/' %}
    <button class="bg-pink-500 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed">
      Completed
    </button>
    {%else%}
    <a href="/completed-tasks/">
      <button class="py-2 px-4 bg-pink-500 text-white font-semibold rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-opacity-75">
        Completed
      </button>
    </a>
    {%endif%}
    {% if request.path == '/pending-tasks/' %}
    <button class="bg-pink-500 text-white font-bold py-2 px-4 rounded opacity-50 cursor-not-allowed">
      Pending
    </button>
    {%else%}
    <a href="/pending-tasks/">
      <button class="py-2 px-4 bg-pink-500 text-white font-semibold rounded-lg shadow-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-400 focus:ring-opacity-75">
        Pending
      </button>
    </a>
    {%endif%}


    
    <h1>Tasks</h1>
    {% for task in tasks %}
    <div
      class="container px-1 py-5 m-5 p-10 mx-auto rounded items-center bg-gray-100"
    >
      {{forloop.counter}} {{task}} [{{task.priority}}]
      <div class="buttons float-right">
        <a href="/update-task/{{task.id}}">
          <button
            class="bg-blue-300 hover:bg-blue-400 text-blue-800 font-bold py-2 px-4 rounded inline-flex items-center"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
              />
            </svg>
          </button>
        </a>
        <a href="/delete-task/{{task.id}}">
          <button
            class="bg-red-300 hover:bg-red-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 20 20"
              fill="currentColor"
              width="20px"
              height="20px"
            >
              <path
                fill-rule="evenodd"
                d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </a>
      </div><br>
      {{task.created_date}}
    </div>
    {% endfor %}<br/>
  </section>
    {% comment %} <br />
    {% for page in paginator.page_range %}
    <li>
      <a href="?page={{page}}&search={{request.GET.search}}">{{page}}</a>
    </li>
    {% endfor %} {% endcomment %}
